/**
 * DASHBOARD-8 v2 — Granular Permission System
 *
 * Every sidebar item, dashboard widget, and bottom-bar button is a named
 * permission.  Roles ship with sensible defaults below.  In demo mode
 * these are used directly; in production they serve as fallback when no
 * org-level overrides exist in the `role_permissions` table.
 *
 * Naming convention:
 *   sidebar.<itemId>     — sidebar nav visibility
 *   dashboard.<widgetId> — dashboard widget visibility
 *   bottom.<actionId>    — bottom action bar button visibility
 *   action.<capability>  — functional capability (create, edit, delete)
 *   page.<pageId>        — direct page access (e.g. Kitchen Staff pages)
 */

import type { UserRole } from '../contexts/RoleContext';

export const DEFAULT_PERMISSIONS: Record<UserRole, string[]> = {
  // ── Platform Admin — unrestricted access to everything ──────
  platform_admin: [
    'sidebar.*',
    'dashboard.*',
    'bottom.*',
    'action.*',
    'page.*',
    'settings_access',
    'help_access',
    'permission.manage_roles',
    'billing.manage',
    'org.delete',
    'org.transfer_ownership',
    'team.manage_roles',
  ],

  // ── Owner / Operator — full access ──────────────────────────
  owner_operator: [
    'sidebar.*',
    'dashboard.*',
    'bottom.*',
    'action.*',
    'page.*',
    'settings_access',
    'help_access',
    'permission.manage_roles',
    'billing.manage',
    'org.delete',
    'org.transfer_ownership',
    'team.manage_roles',
  ],

  // ── Executive — org-wide analytics & strategy ───────────────
  executive: [
    'sidebar.dashboard',
    'sidebar.ai-insights',
    'sidebar.analytics',
    'sidebar.audit-log',
    'sidebar.benchmarks',
    'sidebar.business-intelligence',
    'sidebar.fire-safety',
    'sidebar.intelligence',
    'sidebar.iot-dashboard',
    'sidebar.jurisdiction-intelligence',
    'sidebar.score-table',
    'sidebar.services',
    'sidebar.violation-trends',
    'sidebar.regulatory',
    'sidebar.reporting',
    'sidebar.billing',
    'sidebar.settings',
    'sidebar.roles-permissions',
    'sidebar.help',
    'dashboard.hero',
    'dashboard.alerts',
    'dashboard.location-health',
    'dashboard.trend',
    'dashboard.kpis',
    'bottom.reports',
    'bottom.locations',
    'bottom.benchmarks',
    'bottom.regulatory',
    'bottom.settings',
    'settings_access',
    'help_access',
    'permission.manage_roles',
    'billing.manage',
    'org.delete',
    'org.transfer_ownership',
    'team.manage_roles',
  ],

  // ── Compliance Manager — food safety, regulatory, inspections ─
  compliance_manager: [
    'sidebar.dashboard',
    'sidebar.ai-insights',
    'sidebar.checklists',
    'sidebar.corrective-actions',
    'sidebar.documents',
    'sidebar.fire-safety',
    'sidebar.haccp',
    'sidebar.regulatory',
    'sidebar.reporting',
    'sidebar.self-inspection',
    'sidebar.services',
    'sidebar.vendor-certifications',
    'sidebar.audit-log',
    'sidebar.business-intelligence',
    'sidebar.intelligence',
    'sidebar.iot-dashboard',
    'sidebar.jurisdiction-intelligence',
    'sidebar.score-table',
    'sidebar.violation-trends',
    'sidebar.incidents',
    'sidebar.temperatures',
    'sidebar.export-center',
    'sidebar.self-diagnosis',
    'sidebar.help',
    'dashboard.hero',
    'dashboard.alerts',
    'dashboard.jurisdiction-matrix',
    'dashboard.start',
    'bottom.compliance',
    'bottom.self-inspect',
    'bottom.violations',
    'bottom.regulatory',
    'bottom.alerts',
    'settings_access',
    'help_access',
  ],

  // ── Chef — kitchen operations, checklists, temps, team ───────
  chef: [
    'sidebar.dashboard',
    'sidebar.ai-insights',
    'sidebar.allergen-tracking',
    'sidebar.calendar',
    'sidebar.cooling-logs',
    'sidebar.haccp',
    'sidebar.receiving-log',
    'sidebar.temperatures',
    'sidebar.checklists',
    'sidebar.incidents',
    'sidebar.self-diagnosis',
    'sidebar.help',
    'dashboard.hero',
    'dashboard.alerts',
    'dashboard.tasks',
    'bottom.checklists',
    'bottom.temps',
    'bottom.qr-scan',
    'bottom.team',
    'bottom.incidents',
    'settings_access',
    'help_access',
  ],

  // ── Facilities Manager — equipment, vendors, fire safety ─────
  facilities_manager: [
    'sidebar.dashboard',
    'sidebar.fire-safety',
    'sidebar.hood-exhaust',
    'sidebar.hvac',
    'sidebar.ice-machines',
    'sidebar.incidents',
    'sidebar.refrigeration',
    'sidebar.services',
    'sidebar.suppression-systems',
    'sidebar.self-diagnosis',
    'sidebar.service-reporting',
    'sidebar.vendors',
    'sidebar.help',
    'dashboard.hero',
    'dashboard.alerts',
    'dashboard.start',
    'bottom.fire-safety',
    'bottom.equipment',
    'bottom.schedule',
    'bottom.vendors',
    'bottom.alerts',
    'settings_access',
    'help_access',
  ],

  // ── Kitchen Manager — daily operations, checklists, team ─────
  kitchen_manager: [
    'sidebar.dashboard',
    'sidebar.ai-insights',
    'sidebar.calendar',
    'sidebar.checklists',
    'sidebar.fire-safety',
    'sidebar.haccp',
    'sidebar.incidents',
    'sidebar.services',
    'sidebar.temperatures',
    'sidebar.documents',
    'sidebar.regulatory',
    'sidebar.reporting',
    'sidebar.self-inspection',
    'sidebar.self-diagnosis',
    'sidebar.settings',
    'sidebar.team',
    'sidebar.help',
    'dashboard.hero',
    'dashboard.alerts',
    'dashboard.tasks',
    'bottom.checklists',
    'bottom.temps',
    'bottom.qr-scan',
    'bottom.team',
    'bottom.incidents',
    'settings_access',
    'help_access',
  ],

  // ── Kitchen Staff — task-focused, minimal sidebar ────────────
  kitchen_staff: [
    'sidebar.dashboard',
    'sidebar.checklists',
    'sidebar.temperatures',
    'sidebar.report-issue',
    'sidebar.self-diagnosis',
    'sidebar.help',
    'page.checklists',
    'page.help',
    'dashboard.tasks',
    'bottom.tasks',
    'bottom.temps',
    'bottom.report',
    'help_access',
  ],
};
